import { createMenu, withErrorHandling } from "../helper.js";

export const showSettings = withErrorHandling(async (ctx) => {
    await ctx.scene.leave();

    const { dinoStr, contentType, breastSize, mask_expand } = ctx.session;
    const message = `
*‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Cloth Swap üß•üëó*

**üéØ –°–∏–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è**: –≠—Ç–æ –∫–∞–∫ —Ö–æ—Ä–æ—à–æ –Ω–∞—à —Ä–æ–±–æ—Ç –≤–∏–¥–∏—Ç –∏ –ø–æ–Ω–∏–º–∞–µ—Ç –æ–¥–µ–∂–¥—É –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –æ–Ω —É–≤–∏–¥–µ–ª –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∏–∂–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, 0.25. –ù–æ –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã, –æ–Ω –º–æ–∂–µ—Ç —Ç–∞–∫–∂–µ —É–≤–∏–¥–µ—Ç—å —Ç–æ, —á—Ç–æ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ! –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - 0.3.

**üîç –£—Å–∏–ª–µ–Ω–∏–µ –º–∞—Å–∫–∏**: –≠—Ç–æ –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–æ–ª—å—à–æ–π –±—É–¥–µ—Ç –æ–±–ª–∞—Å—Ç—å, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ä–æ–±–æ—Ç –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å –æ–¥–µ–∂–¥—É. –ë–æ–ª—å—à–µ –∑–Ω–∞—á–∏—Ç –±–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ –Ω–∞ —É—Å–ø–µ—à–Ω—É—é –∑–∞–º–µ–Ω—É, –Ω–æ —Ä–æ–±–æ—Ç –º–æ–∂–µ—Ç –Ω–µ–Ω–∞—Ä–æ–∫–æ–º –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –∏ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–º–µ–Ω—å—à–µ.

**üë´ –ü–æ–ª**: –í—ã–±–µ—Ä–∏—Ç–µ "–º—É–∂—á–∏–Ω–∞" –∏–ª–∏ "–∂–µ–Ω—â–∏–Ω–∞". –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—à–µ–º—É —Ä–æ–±–æ—Ç—É –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é.

**üåç –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: –í—ã–±–µ—Ä–∏—Ç–µ "–∞–Ω–∏–º–µ" –∏–ª–∏ "—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å". –≠—Ç–æ —Å–æ–æ–±—â–∞–µ—Ç —Ä–æ–±–æ—Ç—É, –∫–∞–∫—É—é –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∞—à–µ–≥–æ —Ñ–æ—Ç–æ. `;

    const buttons = [
        [
            { text: `üéØ –°–∏–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è: ${dinoStr}`, action: "dinoTreshSetting" },
            { text: `üîç –£—Å–∏–ª–µ–Ω–∏–µ –º–∞—Å–∫–∏ ${mask_expand}`, action: "expandMaskSetting" },
        ],
        [
            { text: `üë´ –†–∞–∑–º–µ—Ä –≥—Ä—É–¥–∏: ${breastSize}`, action: "setSexSetting" },
            { text: `üåç –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞: ${contentType}`, action: "contentTypeSetting" },
        ],
        [{ text: "üîô –ú–µ–Ω—é", action: "menu" }],
    ];

    const menu = createMenu(message, buttons);

    await ctx.replyWithMarkdownV2(menu.message, menu.keyboard);
});
